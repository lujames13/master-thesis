# III. Related Work

## E. Hybrid Consensus Mechanisms

現有PBFT方法與樂觀驗證方法各有優劣：PBFT提供強安全保證但效率受限於O(n²)通訊複雜度，而樂觀機制雖高效但受限於FPVM等驗證環境的計算能力。為了平衡效率與安全性，部分研究提出混合共識機制，嘗試結合不同技術的優勢。本節回顧兩類主要混合方案：基於Layer架構的分層設計（§E.1）與多階段共識機制（§E.2），並分析其與本研究動態切換機制的差異（§E.3）。

---

### E.1 Layer-based Architectures

Layer架構方案將FL系統分為多個層次，不同層次採用不同的共識機制，藉此在效率與安全性之間取得平衡。

**IEEE 9223754 - Optimistic Rollup on Bitcoin**

IEEE 9223754[TODO]將Optimistic Rollup應用於Bitcoin網絡上的聯邦學習，採用雙層架構：Bitcoin作為Layer 1提供安全層負責最終性確認，Rollup作為Layer 2執行層負責模型聚合，聚合器將結果默克爾根提交至主鏈並設置挑戰期。然而，跨層通訊導致每次提交需等待區塊確認（平均10分鐘），在FL快速迭代場景中造成顯著延遲。本研究在單一鏈上實現Optimistic-PBFT切換，避免跨層開銷且在許可鏈環境下達成秒級確認。

**FLock - State Channels + PBFT**

FLock[TODO]結合鏈下狀態通道與鏈上PBFT共識，參與者在狀態通道進行高頻互動避免上鏈延遲，達到檢查點時提交至主鏈執行PBFT驗證確保不可篡改性。然而，狀態通道在參與者動態變化場景下管理複雜，開啟和關閉通道需鏈上交易，FL中客戶端頻繁上下線使通道管理成為瓶頸。本研究的輪值聚合器機制天然支援動態參與者管理，無需複雜的通道重新協商流程。

---

### E.2 Multi-Stage Consensus

多階段共識機制將驗證流程分為多個階段，每階段採用不同的共識算法，試圖結合各自的優勢。

**EPP-BCFL - PoS+BFT兩階段混合**

EPP-BCFL (Enhanced Privacy-Preserving Blockchain-based Federated Learning)[TODO]提出兩階段混合共識機制：第一階段使用PoS選擇驗證者，第二階段在選定驗證者間執行BFT驗證聚合結果。該方案目標是結合PoS效率與BFT安全性。

然而，EPP-BCFL採用**固定兩階段執行流程**，無論當前是否存在威脅，系統都必須執行完整的PoS選擇和BFT驗證。與BlockDFL類似（§B.2），這導致非威脅感知的冗餘開銷：即使所有聚合器誠實，仍需每輪執行O(n²)的BFT共識。此外，該方案缺乏動態調整能力，無法根據實時威脅等級（如挑戰率歷史）自適應調整驗證強度。

相較之下，本研究的動態Optimistic-PBFT機制僅在檢測到威脅時觸發PBFT驗證，正常情況下以O(R/N)效率運行，實現威脅感知的自適應安全。

---

### E.3 Summary: Static Hybrid vs. Dynamic Adaptive

現有混合共識方案採用**靜態混合策略**，存在三大共同局限：固定的Layer分離或階段劃分使系統無法根據實時威脅調整驗證策略；缺乏動態威脅感知機制導致資源分配低效（低威脅時過度驗證，高威脅時可能驗證不足）；效率與安全的靜態權衡無法適應FL訓練過程中威脅等級的動態變化。

本研究提出的Optimistic-PBFT機制實現威脅感知的動態自適應混合，基於挑戰事件自動切換驗證模式，從樂觀執行(O(R/N))到PBFT驗證(O(n²))平滑切換。下一節（§F）將總結現有技術路線的核心缺口並定位本研究的貢獻。
