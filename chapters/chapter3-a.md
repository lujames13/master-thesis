# III. Related Work

## A. Blockchain-based Federated Learning: Overview and Challenges

### A.1 Architecture Evolution

**從單聚合器到多聚合器架構**

傳統聯邦學習（Federated Learning, FL）採用中央化聚合器架構，由單一伺服器負責協調訓練流程與聚合客戶端上傳的模型更新。然而,這種中央化設計面臨嚴重的單點故障（Single Point of Failure, SPOF）問題：聚合器一旦失效或遭受攻擊，整個訓練流程即陷入停擺；更嚴重的是，惡意聚合器可竄改聚合結果而客戶端無從察覺[TODO]。

為解決此問題，區塊鏈技術被引入聯邦學習系統，透過去中心化共識機制提供可驗證的聚合過程[TODO]。在此基礎上，多聚合器架構（Multi-Aggregator Architecture）應運而生：系統不再依賴單一聚合器，而是由多個節點分擔聚合工作，提升系統吞吐量與容錯能力[TODO]。

然而，多聚合器架構也引出了本研究關注的核心問題：**當存在多個獨立執行聚合計算的節點時，如何驗證每個聚合器提交的結果確實正確？**在單聚合器場景下，若聚合器惡意，客戶端頂多拒絕參與；但在多聚合器場景下，若某聚合器提交錯誤結果上鏈，而系統缺乏有效驗證機制，則惡意計算可能被誤認為有效共識，污染全域模型。因此，聚合器驗證（Aggregator Verification）成為多聚合器聯邦學習的核心挑戰。


### A.2 Core Challenge: Aggregator Verification

**驗證挑戰的本質**

聚合器驗證問題的本質是：**在拜占庭環境（Byzantine Environment）下確保聚合計算的正確性**。具體而言，系統中可能存在惡意聚合器，它們可能故意提交錯誤的聚合結果、選擇性忽略特定客戶端的更新、或串謀攻擊全域模型。驗證機制必須在容許部分節點惡意的前提下，仍能保證最終採納的聚合結果確實正確。

聚合器驗證問題聚焦於聚合器層（Aggregator Layer）的計算正確性驗證。客戶端層（Client Layer）的投毒防禦（如Krum[TODO]、Median Aggregation[TODO]等拜占庭魯棒聚合演算法）屬於正交問題，本章不涵蓋。即使所有客戶端誠實，若聚合器惡意竄改聚合邏輯，模型仍會被污染。

聚合器驗證面臨的核心矛盾是**效率、安全性與計算通用性的三角張力**。理想的驗證機制應同時滿足：（1）**高效率**：驗證開銷不應隨參與者數量平方增長；（2）**強安全性**：能容忍拜占庭節點而保證正確性；（3）**計算通用性**：支援任意模型規模與聚合演算法。然而，現有方案往往只能滿足其中兩項，在第三項上做出妥協。

**三類技術路線預覽**

針對聚合器驗證問題，學術界與工業界已提出三類主流技術路線，各有其權衡取捨：

**第一類是基於PBFT的共識驗證（PBFT-based Consensus）**，如FLCoin[TODO]、BlockDFL[TODO]等。這類方案直接套用實用拜占庭容錯（Practical Byzantine Fault Tolerance, PBFT）共識協議驗證聚合結果，安全性強（可容忍f < n/3惡意節點），且支援任意計算。然而，PBFT固有的O(n²)通訊複雜度導致效能瓶頸：當參與者數量超過100時，共識延遲與網路開銷急劇上升，實用性大幅降低。本章B節將詳細討論此類方案及其效率困境。

**第二類是樂觀驗證機制（Optimistic Verification）**，如opML[TODO]。受Ethereum Optimistic Rollup啟發，這類方案假設聚合器誠實，樂觀接受結果，僅在挑戰期（Challenge Period）內允許驗證者提出異議——所謂挑戰期是指聚合結果發布後，驗證者可質疑的時間窗口。正常情況下驗證複雜度為O(1)，效率極高。然而，為實現欺詐證明（Fraud Proof），這類方案依賴故障證明虛擬機（Fault Proof Virtual Machine, FPVM）重新執行爭議計算，導致嚴重的計算限制：FPVM通常有4GB記憶體上限，無法處理大型模型（如7B+參數的LLaMA）；且複雜聚合演算法難以分解為虛擬機指令。本章C節將分析其計算通用性瓶頸。

**第三類是零知識證明方法（Zero-Knowledge Proof）**，如zkML[TODO]。聚合器對計算生成零知識證明（如zk-SNARK/STARK），驗證者無需重新執行即可驗證正確性，提供數學級安全保證且無需信任假設。然而，將機器學習計算「算術化」（Arithmetization）為算術電路極其困難：證明生成時間慢數個數量級，且模型規模上限僅約18M參數，遠小於實際生產環境需求（如醫療影像的ViT-Large、金融風控的BERT-large均超過百萬參數）。本章D節將探討其實用性障礙。

除上述三類外，亦有混合共識機制（Hybrid Consensus）嘗試結合不同範式的優勢，如EPP-BCFL結合PoS與BFT[TODO]、IEEE 9223754在Bitcoin上實現Optimistic Rollup[TODO]。然而，這些方案多採用靜態混合策略，缺乏根據實時威脅動態調整驗證強度的能力。本章E節將討論混合方案的局限。


### A.3 Scope of This Review

**本章組織結構**

本章聚焦於**多聚合器場景下的聚合器驗證機制**，按技術範式分類討論現有方案的貢獻與局限。具體而言，B節分析基於PBFT的共識驗證方案，探討其效率困境與靜態驗證策略的問題；C節審視樂觀驗證機制，揭示其計算通用性瓶頸；D節評估零知識證明方法的實用性障礙；E節討論混合共識機制及其靜態混合策略的局限。最後，F節總結研究缺口，並闡明本研究如何通過**威脅感知的動態Optimistic-PBFT混合機制**彌補現有方案的不足。

值得說明的是，本章**不涵蓋**以下主題：（1）單聚合器聯邦學習方案，因其未涉及多聚合器間的驗證問題；（2）純粹的工作量證明（Proof of Work, PoW）或權益證明（Proof of Stake, PoS）共識機制，因其主要解決區塊鏈共識問題，而非聚合計算的正確性驗證；（3）客戶端層的投毒防禦（如Krum、Median等），因其屬於正交於聚合器驗證的研究方向。本章的核心關注點始終是：**如何在多聚合器架構下，有效且高效地驗證聚合計算的正確性**。
