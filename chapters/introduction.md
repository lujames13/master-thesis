# 第一章：緒論 (Introduction)

## 1.1 研究背景 (Background & Context)

隨著《通用數據保護條例》（GDPR）和《個人信息保護法》（PIPL）等數據隱私法規的日益普及，機器學習的典範已從集中式訓練根本性地轉變為隱私保護的分散式計算 [1]。這一轉變催生了聯邦式學習（Federated Learning, FL），這是一種允許在不共享原始數據的情況下跨數據孤島進行協作模型訓練的框架 [2]。然而，傳統的聯邦式學習架構高度依賴中心化伺服器進行模型聚合，這導致了單點故障（Single Point of Failure, SPOF）的風險，並且缺乏透明度，從而破壞了互不信任的參與者之間的信任基礎 [3]。

為了解決這些信任缺失問題，基於區塊鏈的聯邦式學習（Blockchain-based Federated Learning, BCFL）作為一種具前景的解決方案應運而生 [4]。通過以去中心化的區塊鏈網絡取代中心化伺服器，BCFL 提供了不可篡改的帳本和無需信任的協作層。雖然區塊鏈成功解決了信任問題，但它引入了一個新的關鍵挑戰：共識效率。隨著網絡規模的擴大，達成模型更新共識的開銷成為瓶頸，這使得探索更具擴展性的架構成為必要，例如多聚合器系統（Multi-Aggregator systems），其中聚合工作負載分佈在多個節點上 [5]。

這種向多聚合器架構的過渡，雖然緩解了單節點的計算壓力，但也帶來了驗證由不可信節點執行的聚合正確性的複雜問題。當前針對此驗證問題的解決方案在效率與通用性之間面臨著根本性的兩難困境。

## 1.2 問題陳述 (Problem Statement)

現有的 BCFL 安全聚合方法存在關鍵局限性，使其無法應用於大規模、複雜的機器學習任務。這些局限性主要可歸類為兩大途徑：純共識基礎方法（Pure Consensus-based Methods）和密碼學/樂觀驗證方法（Cryptographic/Optimistic Verification Methods）。

首先，傳統的 **基於 PBFT 的解決方案**（例如 FLCoin [6]）雖然優先考慮安全性，但面臨嚴重的效率瓶頸。實用拜占庭容錯（Practical Byzantine Fault Tolerance, PBFT）的通訊複雜度為 $O(n^2)$，導致延遲隨節點數量呈二次方增長。此外，這些系統通常要求每個驗證者重新執行聚合任務（$R \times V$ 的冗餘計算），導致巨大的資源浪費。這種缺乏擴展性的特點使得純 PBFT 不適用於大規模網絡。

其次，新興的 **高效驗證解決方案** 如 **opML**（Optimistic Machine Learning）和 **zkML**（Zero-Knowledge Machine Learning）雖然實現了高通訊效率（$O(1)$），但對 **計算通用性（Computational Generality）** 施加了嚴格限制。
*   **opML 的局限性**：目前的樂觀方法依賴於資源受限的專用欺詐證明虛擬機（FPVM）（例如 4GB 內存限制，無 GPU 支持）。這阻礙了大型模型或複雜聚合算法（如 FedProx 或 Krum）的執行。
*   **zkML 的局限性**：零知識證明產生了令人望而卻步的算術化開銷（Arithmetization Overheads）。它們目前僅限於極小的模型（約 18M 參數），對於生產級的 FL 環境而言是不切實際的。

**研究問題**：因此，當前的技術領域存在一個關鍵缺口。目前尚無機制能夠同時滿足高效率、強健的拜占庭容錯能力以及完整的 **計算通用性**。本論文旨在解決這一核心問題：「*如何在不犧牲計算通用性或安全性的前提下，突破基於區塊鏈的聯邦式學習中的效率瓶頸？*」

## 1.3 研究目標 (Research Objectives)

本論文的主要目標是提出一種新穎的共識框架，以解決「效率與通用性」的兩難困境。具體目標如下：

1.  **設計混合樂觀-PBFT 機制（Hybrid Optimistic-PBFT Mechanism）**：開發一種安全協議，結合樂觀檢測的效率（1-of-N 信任假設）與 PBFT 仲裁的穩健性（M-of-N 信任假設）。
2.  **實作多聚合器輪替框架（Multi-Aggregator Rotation Framework）**：構建一個系統，通過輪替機制動態分配聚合工作負載，消除單一聚合器系統的計算瓶頸。
3.  **驗證雙重效率與通用性（Verify Dual Efficiency and Generality）**：證明所提出的系統在正常情況下實現 $O(1)$ 的通訊複雜度和 $O(R/N)$ 的計算負載，同時支持任意模型和算法的 **原生執行（Native Execution）**。

## 1.4 論文貢獻 (Contributions)

本論文提出了「Optimistic-PBFT」，這是一種威脅感知（Threat-Aware）的共識機制，能夠在樂觀執行和 PBFT 仲裁之間動態切換。主要貢獻如下：

### 1. 威脅感知樂觀-PBFT 動態切換
我們引入了一種新穎的驗證範式，利用 PBFT 作為後備仲裁機制，而非計算昂貴的欺詐證明。此方法繞過了 FPVM 的限制，實現了模型訓練和聚合的 **原生執行**。這確保了 **計算通用性**，允許系統支持任何大小的模型以及目前在 opML 或 zkML 中不可行的複雜防禦算法。

### 2. 雙重效率提升
所提出的框架在兩個不同維度上實現了優化：
*   **計算效率**：通過多聚合器輪替策略，單個節點的計算負擔減少了 $N$ 倍（$O(R/N)$）。
*   **通訊效率**：通過採用樂觀的「默認通過（pass-by-default）」機制，在無攻擊情況下的通訊複雜度從 $O(n^2)$ 降低至 $O(1)$。

### 3. 雙重安全防禦模型
我們建立了一個分層安全模型，整合了用於 1-of-N 樂觀檢測的「挑戰期（Challenge Period）」與用於 M-of-N 最終仲裁的 PBFT 委員會。這種混合方法提供了比純樂觀系統更強的拜占庭容錯能力，特別適用於聯盟鏈環境，且未犧牲實際部署所需的高效率。

## 1.5 論文結構 (Thesis Organization)

本論文的其餘部分組織如下：
*   **第二章** 提供關於聯邦式學習、區塊鏈共識及現有驗證方法的背景知識。
*   **第三章** 回顧相關工作並分析現有最先進解決方案的局限性。
*   **第四章** 詳細闡述 Optimistic-PBFT 框架的系統設計及多聚合器架構。
*   **第五章** 描述實作細節與實驗設置。
*   **第六章** 展示實驗結果與效能分析。
*   **第七章** 總結本論文並概述未來的研究方向。
